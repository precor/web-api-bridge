(this.webpackJsonpwebapp1=this.webpackJsonpwebapp1||[]).push([[0],{42:function(t,e,n){t.exports=n(79)},78:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n.n(s),o=n(39),r=n.n(o),a=n(27),c=n.n(a),h=n(40),d=n(41),p=n.n(d);n(78);const l=function(){var t=Object(h.a)(c.a.mark((function t(e){var n,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e?"https://picsum.photos/id/".concat(e,"/").concat(window.innerWidth,"/").concat(window.innerHeight,"/"):"https://picsum.photos/".concat(window.innerWidth,"/").concat(window.innerHeight,"/"));case 2:return n=t.sent,s=n.url.split("/")[4],t.next=6,n.blob();case 6:return i=t.sent,t.abrupt("return",{id:s,imageUrl:URL.createObjectURL(i)});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();class w extends s.Component{constructor(t){super(t),this.photoSelected=t=>{l(t).then(t=>this.setState(t))},this.send=t.send,t.setApis([this]),this.state={},window.onresize=()=>{const t=this.state.id;this.photoSelected(t)},this.photoSelected(void 0)}render(){console.log("render Page1");const t=this.state.imageUrl;return t?i.a.createElement("img",{src:t,alt:""}):null}}class u extends s.Component{constructor(t){super(t),this.displayNewPhoto=()=>{l().then(t=>{this.setState(t)})},this.photoClicked=()=>{const t=this.state.id;this.send("photoClicked",[t],!1)},this.send=t.send,t.setApis([this]),this.state={},this.displayNewPhoto(),window.onresize=()=>{const t=this.state.id;l(t).then(t=>this.setState(t))}}render(){console.log("render Page2");const t=this.state.imageUrl;return t?i.a.createElement("img",{src:t,alt:"",onClick:this.photoClicked}):null}}const g={"/page1/":w,"/page2/":u};class b extends s.Component{constructor(t){super(t),this.setApis=t=>{this.webApiBridge.apis=t},this.webApiBridge=new p.a,this.webApiBridge.target=window.parent,this.webApiBridge.origin="https://precor.github.io",this.webApiBridge.targetOrigin="https://precor.github.io",this.send=this.webApiBridge.send.bind(this.webApiBridge),window.addEventListener("message",t=>this.webApiBridge.onMessage(t,t.data))}render(){if(!window.location.hash)return null;console.log("webapp1 render ".concat(window.location.hash.substr(1)));const t=g[window.location.hash.substr(1)];return i.a.createElement(t,{setApis:this.setApis,send:this.send})}}var m=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.84288db6.chunk.js.map