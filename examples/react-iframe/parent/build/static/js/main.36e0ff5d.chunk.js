(this.webpackJsonpparent=this.webpackJsonpparent||[]).push([[0],{40:function(e,i,t){e.exports=t(77)},45:function(e,i,t){},76:function(e,i,t){},77:function(e,i,t){"use strict";t.r(i);var n=t(2),a=t.n(n),r=t(38),s=t.n(r),o=(t(45),t(39)),c=t.n(o);t(76);const l=new URL("https://precor.github.io/web-api-bridge/examples/react-iframe/webapp/build/").origin;class m{constructor(e){this.welcome=e=>{console.log("sending welcome message to iframe"),this.send("welcome",[e],!1)},this.howOldAreYou=()=>new Promise(e=>{console.log("sending age to iframe"),e(3)}),this.send=e}}class d extends n.Component{constructor(e){super(e),this.setIframe=e=>{e&&!this.iframe&&(this.iframe=e,this.webApiBridge.target=e.contentWindow,this.iframe.onload=()=>{console.log("iframeUrl loaded"),this.myMainApi.welcome("hello iframe")})},this.webApiBridge=new c.a,this.myMainApi=new m(this.webApiBridge.send.bind(this.webApiBridge)),this.webApiBridge.origin=l,this.webApiBridge.targetOrigin=l,this.webApiBridge.apis=[this.myMainApi],window.addEventListener("message",e=>this.webApiBridge.onMessage(e,e.data))}render(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("iframe",{src:"https://precor.github.io/web-api-bridge/examples/react-iframe/webapp/build/",title:"iframe communications",ref:e=>{this.setIframe(e)}}),a.a.createElement("p",null,"parent window")))}}var p=d;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.36e0ff5d.chunk.js.map