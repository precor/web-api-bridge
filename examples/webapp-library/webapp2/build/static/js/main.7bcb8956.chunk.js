(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(t,n,e){t.exports=e(88)},84:function(t,n,e){var r={"./Api1":24,"./Api1.js":24,"./Api2":25,"./Api2.js":25,"./Api3":26,"./Api3.js":26,"./Common":13,"./Common.js":13,"./Send":6,"./Send.js":6};function c(t){var n=o(t);return e(n)}function o(t){var n=r[t];if(!(n+1)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n}c.keys=function(){return Object.keys(r)},c.resolve=o,t.exports=c,c.id=84},85:function(t,n,e){},88:function(t,n,e){"use strict";e.r(n);var r=e(0),c=e.n(r),o=e(41),i=e.n(o),a=e(1),u=e(9),s=e(42),l=e(8),d=e(27),f=(e(85),e(28)),p=e.n(f),b=e(43),h=function(t){var n=t.size,e=n.width,r=n.height,c=t.id,o=t.grayscale,i=t.blur,a=c?"https://picsum.photos/id/".concat(c,"/").concat(e,"/").concat(r,"/"):"https://picsum.photos/".concat(e,"/").concat(r,"/");return o&&(a="".concat(a,"?grayscale")),i&&(a="".concat(a,o?"&blur":"?blur")),a},w=function(){var t=Object(b.a)(p.a.mark(function t(n){var e,r,c,o,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.lastRequestUrl,(r=h(n))!==e){t.next=4;break}return t.abrupt("return",n);case 4:return t.next=6,fetch(r);case 6:return c=t.sent,t.next=9,c.blob();case 9:return o=t.sent,i=c.url.split("/")[4],t.abrupt("return",Object(a.a)({},n,{lastRequestUrl:h(Object(a.a)({},n,{id:i})),id:i,url:URL.createObjectURL(o)}));case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}();var j=function(){var t=function(){var t=Object(r.useState)({width:window.innerWidth,height:window.innerHeight}),n=Object(u.a)(t,2),e=n[0],c=n[1];return Object(r.useEffect)(function(){var t=function(){return c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),e}(),n=Object(r.useState)({}),e=Object(u.a)(n,2),c=e[0],o=e[1],i=c.id,s=c.grayscale,l=c.blur;return Object(r.useEffect)(function(){w(Object(a.a)({},c,{size:t})).then(function(t){return o(t)})},[t,i,s,l]),[c,o]},v=function(){console.log("render webapp2");var t=j(),n=Object(u.a)(t,2),e=n[0],o=n[1],i=e.url,f=e.id;return Object(r.useEffect)(function(){Object(s.startApis)("https://precor.github.io"),l.api2.setCallback("displayNewPhoto",function(){return o(function(t){return Object(a.a)({},t,{id:void 0})})}),l.common.setCallback("displayGrayscale",function(t){return o(function(n){return Object(a.a)({},n,{grayscale:t})})}),l.common.setCallback("displayBlur",function(t){return o(function(n){return Object(a.a)({},n,{blur:t})})})},[o]),i?c.a.createElement("img",{src:i,alt:"",onClick:function(){return Object(d.photoClicked)(f)}}):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.7bcb8956.chunk.js.map