(this.webpackJsonpwebapp2=this.webpackJsonpwebapp2||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),a=n(57),c=n.n(a),s=n(5),o=n(17),l=n(42),p=n(31),u=n(58),b=(n(98),n(43)),d=n.n(b),h=n(59);const j=e=>{const t=e.size,n=t.width,i=t.height,r=e.id,a=e.grayscale,c=e.blur;let s=r?"https://picsum.photos/id/".concat(r,"/").concat(n,"/").concat(i,"/"):"https://picsum.photos/".concat(n,"/").concat(i,"/");return a&&(s="".concat(s,"?grayscale")),c&&(s="".concat(s,a?"&blur":"?blur")),s},w=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,i,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.lastRequestUrl,(i=j(t))!==n){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,fetch(i);case 6:return r=e.sent,e.next=9,r.blob();case 9:return a=e.sent,c=r.url.split("/")[4],e.abrupt("return",Object(s.a)({},t,{lastRequestUrl:j(Object(s.a)({},t,{id:c})),id:c,url:URL.createObjectURL(a)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var m=()=>{const e=function(){const e=Object(i.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)(()=>{const e=()=>r({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),n}(),t=Object(i.useState)({}),n=Object(o.a)(t,2),r=n[0],a=n[1],c=r.id,l=r.grayscale,p=r.blur;return Object(i.useEffect)(()=>{w(Object(s.a)({},r,{size:e})).then(e=>a(e))},[e,c,l,p]),[r,a]};var O=()=>{console.log("render webapp2");const e=m(),t=Object(o.a)(e,2),n=t[0],a=t[1],c=n.url,b=n.id;return Object(i.useEffect)(()=>(Object(l.startApis)("https://precor.github.io"),Object(p.setCallback)("displayNewPhoto",()=>a(e=>Object(s.a)({},e,{id:void 0}))),Object(p.setCallback)("displayGrayscale",e=>a(t=>Object(s.a)({},t,{grayscale:e}))),Object(p.setCallback)("displayBlur",e=>a(t=>Object(s.a)({},t,{blur:e}))),l.stopApis),[a]),c?r.a.createElement("img",{src:c,alt:"",onClick:()=>Object(u.photoClicked)(b)}):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},60:function(e,t,n){e.exports=n(100)},95:function(e,t,n){var i={"./Api1":23,"./Api1/":23,"./Api1/callbacks":41,"./Api1/callbacks.js":41,"./Api1/index":23,"./Api1/index.js":23,"./Api2":24,"./Api2/":24,"./Api2/apis":25,"./Api2/apis.js":25,"./Api2/callbacks":26,"./Api2/callbacks.js":26,"./Api2/index":24,"./Api2/index.js":24,"./Api3":27,"./Api3/":27,"./Api3/apis":28,"./Api3/apis.js":28,"./Api3/index":27,"./Api3/index.js":27,"./Common":29,"./Common/":29,"./Common/callbacks":30,"./Common/callbacks.js":30,"./Common/index":29,"./Common/index.js":29,"./registerCallback":16,"./registerCallback.js":16,"./send":11,"./send.js":11};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=95},98:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.f43a6c77.chunk.js.map