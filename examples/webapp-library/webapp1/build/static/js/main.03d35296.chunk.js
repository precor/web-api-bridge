(this.webpackJsonpwebapp1=this.webpackJsonpwebapp1||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(60),s=a.n(r),i=a(3),o=a(42),l=a(2),u=a(8),p=a(61),b=a(43),d=a.n(b),j=a(62);const h=e=>{const t=e.size,a=t.width,n=t.height,c=e.id,r=e.grayscale,s=e.blur;let i=c?"https://picsum.photos/id/".concat(c,"/").concat(a,"/").concat(n,"/"):"https://picsum.photos/".concat(a,"/").concat(n,"/");return r&&(i="".concat(i,"?grayscale")),s&&(i="".concat(i,r?"&blur":"?blur")),i},O=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.lastRequestUrl,(n=h(t))!==a){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,fetch(n);case 6:return c=e.sent,e.next=9,c.blob();case 9:return r=e.sent,s=c.url.split("/")[4],e.abrupt("return",Object(l.a)({},t,{lastRequestUrl:h(Object(l.a)({},t,{id:s})),id:s,url:URL.createObjectURL(r)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var m=()=>{const e=function(){const e=Object(n.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(()=>{const e=()=>c({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),a}(),t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],r=a[1],s=c.id,o=c.grayscale,u=c.blur;return Object(n.useEffect)(()=>{O(Object(l.a)({},c,{size:e})).then(e=>r(e))},[e,s,o,u]),[c,r]};var w=()=>{console.log("render webapp1.Type1");const e=m(),t=Object(i.a)(e,2),a=t[0],r=t[1],s=a.url;return Object(n.useEffect)(()=>{Object(p.setCallback)("photoSelected",e=>r(t=>Object(l.a)({},t,{id:e}))),Object(u.setCallback)("displayGrayscale",e=>r(t=>Object(l.a)({},t,{grayscale:e}))),Object(u.setCallback)("displayBlur",e=>r(t=>Object(l.a)({},t,{blur:e})))},[r]),s?c.a.createElement("img",{src:s,alt:""}):null},f=a(63),k=a(44);a(59);const g=(e,t)=>{const a=Object(n.useState)(e),c=Object(i.a)(a,2),r=c[0],s=c[1];return{value:r,onChange:e=>{const a=e.target.checked;s(a),t(a)},type:"checkbox"}};var v=({canModPhotos:e})=>{console.log("render webapp1.Type2");const t=m(),a=Object(i.a)(t,2),r=a[0],s=a[1],o=g(!1,k.setGrayscale),p=g(!1,k.setBlur),b=r.url,d=r.id;return Object(n.useEffect)(()=>{Object(u.setCallback)("displayNewPhoto",()=>s(e=>Object(l.a)({},e,{id:void 0}))),Object(u.setCallback)("displayGrayscale",e=>s(t=>Object(l.a)({},t,{grayscale:e}))),Object(u.setCallback)("displayBlur",e=>s(t=>Object(l.a)({},t,{blur:e})))},[s]),b?c.a.createElement("div",{className:"container"},c.a.createElement("img",{src:b,alt:"",onClick:()=>Object(f.photoClicked)(d)}),e&&c.a.createElement("div",{className:"top-overlay"},c.a.createElement("label",null,"B/W:",c.a.createElement("input",o)),c.a.createElement("label",null,"Blur:",c.a.createElement("input",p)))):null};var y=()=>{console.log("webapp1 render");const e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(),l=Object(i.a)(s,2),u=l[0],p=l[1];return Object(n.useEffect)(()=>(Object(o.startApis)("https://precor.github.io").then(({type:e,apis:t})=>{p(!!t.find(e=>"Api3"===e)),r(e)}),o.stopApis),[]),a?"LibType1"===a?c.a.createElement(w,null):c.a.createElement(v,{canModPhotos:u}):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},59:function(e,t,a){},64:function(e,t,a){e.exports=a(104)},99:function(e,t,a){var n={"./Api1":25,"./Api1/":25,"./Api1/callbacks":26,"./Api1/callbacks.js":26,"./Api1/index":25,"./Api1/index.js":25,"./Api2":27,"./Api2/":27,"./Api2/apis":28,"./Api2/apis.js":28,"./Api2/callbacks":29,"./Api2/callbacks.js":29,"./Api2/index":27,"./Api2/index.js":27,"./Api3":30,"./Api3/":30,"./Api3/apis":31,"./Api3/apis.js":31,"./Api3/index":30,"./Api3/index.js":30,"./Common":32,"./Common/":32,"./Common/callbacks":19,"./Common/callbacks.js":19,"./Common/index":32,"./Common/index.js":32,"./registerCallback":18,"./registerCallback.js":18,"./send":13,"./send.js":13};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=99}},[[64,1,2]]]);
//# sourceMappingURL=main.03d35296.chunk.js.map